---
import { imageUrlBuilder, imageUrlFor, isGif } from "../lib/sanity";

type Asset = Parameters<typeof imageUrlFor>[0];
interface Props {
  asset: Asset;
  alt: string;
}

const { asset, alt } = Astro.props;
const image = isGif(asset.toString())
  ? imageUrlBuilder(asset.toString()).url()
  : imageUrlFor(asset);
---

<img src={image} alt={alt} loading="lazy" />
